<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crescent House - Duty Display</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta http-equiv="refresh" content="60">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        // CONFIGURATION - Easy to reprogram
        const dutySchedule = {
            day: [
                { name: "Jo", days: [1, 2, 3] },     			// Mon
                { name: "Mr Magee", days: [1, 2, 3] },      	// Mon, Tue, Wed
                { name: "Bob Smith", days: [4, 5] },            // Thu, Fri
                { name: "Carol Davis", days: [6, 0] }           // Sat, Sun
            ],
            evening: [
                { name: "David Wilson", days: [1, 4] },          // Monday, Thursday
                { name: "Emma Brown", days: [2, 5] },            // Tuesday, Friday
                { name: "Mr Magjeee", days: [3, 6, 0] }        // Wed, Sat, Sun
            ],
            overnight: [
                { name: "Mr Kendry", days: [1, 3, 4, 6, 0] },       // Mon, Wed, Thu, Sat, Sun
                { name: "Mr Johnson", days: [2, 5] }        		// Tue, Fri
            ]
        };

        // Shift time definitions (24-hour format)
        const shiftTimes = {
            day: { start: 8, end: 17, label: "Day Shift", icon: "‚òÄÔ∏è" },        // 8am - 5pm
            evening: { start: 17, end: 23, label: "Evening Shift", icon: "üåÖ" },   // 5pm - 11pm
            overnight: { start: 23, end: 8, label: "Overnight Shift", icon: "üåô" }     // 11pm - 8am
        };

        let currentTime = new Date();
        let currentShift = '';
        let dutyPerson = '';

        function getCurrentShift(date) {
            const hour = date.getHours();
            
            if (hour >= shiftTimes.day.start && hour < shiftTimes.day.end) {
                return 'day';
            } else if (hour >= shiftTimes.evening.start && hour < shiftTimes.evening.end) {
                return 'evening';
            } else {
                return 'overnight';
            }
        }

        function updateDuty(date) {
            const shift = getCurrentShift(date);
            const dayOfWeek = date.getDay();
            
            currentShift = shift;
            
            const person = dutySchedule[shift].find(p => p.days.includes(dayOfWeek));
            dutyPerson = person ? person.name : 'No duty assigned';
        }

        function formatDate(date) {
            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            return `${days[date.getDay()]}, ${months[date.getMonth()]} ${date.getDate()}`;
        }

        function render() {
            const shiftInfo = shiftTimes[currentShift];
            const timeString = currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            document.getElementById('app').innerHTML = `
                <div class="min-h-screen bg-white text-black flex items-center justify-center p-4">
                    <div class="max-w-2xl w-full border-4 border-black p-8">
                        <!-- Header -->
                        <div class="text-center mb-12">
                            <h1 class="text-4xl font-bold mb-2">CRESCENT HOUSE</h1>
                            <div class="flex items-center justify-center gap-2 text-lg">
                                <span>üïê</span>
                                <span>${formatDate(currentTime)}</span>
                            </div>
                        </div>

                        <!-- Shift Indicator -->
                        <div class="text-center mb-6">
                            <div class="flex items-center justify-center gap-2 text-xl font-semibold">
                                <span style="font-size: 24px;">${shiftInfo.icon}</span>
                                <span>${shiftInfo.label}</span>
                            </div>
                            <div class="text-sm opacity-60 mt-1">
                                ${timeString}
                            </div>
                        </div>

                        <!-- Main Display -->
                        <div class="border-2 border-black p-12 text-center">
                            <div class="flex items-center justify-center gap-3 mb-4">
                                <span style="font-size: 32px;">üë§</span>
                                <span class="text-2xl font-semibold">ON DUTY:</span>
                            </div>
                            <div class="text-6xl font-bold mt-4">
                                ${dutyPerson}
                            </div>
                        </div>

                        <!-- Shift Schedule Reference -->
                        <div class="mt-8 grid grid-cols-3 gap-4 text-xs border-t-2 border-black pt-6">
                            <div class="text-center">
                                <div class="flex items-center justify-center gap-1 font-semibold mb-1">
                                    <span>‚òÄÔ∏è</span>
                                    <span>Day</span>
                                </div>
                                <div class="opacity-60">8am - 5pm</div>
                            </div>
                            <div class="text-center">
                                <div class="flex items-center justify-center gap-1 font-semibold mb-1">
                                    <span>üåÖ</span>
                                    <span>Evening</span>
                                </div>
                                <div class="opacity-60">5pm - 11pm</div>
                            </div>
                            <div class="text-center">
                                <div class="flex items-center justify-center gap-1 font-semibold mb-1">
                                    <span>üåô</span>
                                    <span>Overnight</span>
                                </div>
                                <div class="opacity-60">11pm - 8am</div>
                            </div>
                        </div>

                        <!-- Footer Info -->
                        <div class="mt-6 text-center text-sm opacity-60">
                            <p>Display updates every minute</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function update() {
            currentTime = new Date();
            updateDuty(currentTime);
            render();
        }

        // Initial update
        update();

        // Update every minute (low power - infrequent updates)
        setInterval(update, 60000);
    </script>
</body>
</html>
